{
  "Name": "DownloadTrama",
  "CreationDate": "2021-3-28",
  "Commands": [
    {
      "Command": "store",
      "Target": "60",
      "Value": "!timeout_wait"
    },
    {
      "Command": "store",
      "Target": "60",
      "Value": "!timeout_pageload"
    },
    {
      "Command": "run",
      "Target": "Shared/LogIn",
      "Value": ""
    },
    {
      "Command": "run",
      "Target": "Validation/CountTramas",
      "Value": ""
    },
    {
      "Command": "run",
      "Target": "Shared/GoReport",
      "Value": ""
    },
    {
      "Command": "click",
      "Target": "name=ProcessLogListTable_length",
      "Value": "",
      "Targets": [
        "name=ProcessLogListTable_length",
        "xpath=//*[@id=\"ProcessLogListTable_length\"]/label/select",
        "xpath=//select[@name='ProcessLogListTable_length']",
        "xpath=//label/select",
        "css=#ProcessLogListTable_length > label > select"
      ]
    },
    {
      "Command": "select",
      "Target": "name=ProcessLogListTable_length",
      "Value": "label=25"
    },
    {
      "Command": "click",
      "Target": "name=ProcessLogListTable_length",
      "Value": "",
      "Targets": [
        "name=ProcessLogListTable_length",
        "xpath=//*[@id=\"ProcessLogListTable_length\"]/label/select",
        "xpath=//select[@name='ProcessLogListTable_length']",
        "xpath=//label/select",
        "css=#ProcessLogListTable_length > label > select"
      ]
    },
    {
      "Command": "csvRead",
      "Target": "csv_ids.csv",
      "Value": ""
    },
    {
      "Command": "store",
      "Target": "${!csvReadMaxRow}",
      "Value": "!csvReadLineNumber"
    },
    {
      "Command": "csvRead",
      "Target": "csv_ids.csv",
      "Value": ""
    },
    {
      "Command": "executeScript_Sandbox",
      "Target": "return 0;",
      "Value": "download_count"
    },
    {
      "Command": "executeScript_Sandbox",
      "Target": "return 0;",
      "Value": "idx_row_trama"
    },
    {
      "Command": "while_v2",
      "Target": "${download_count} < 4",
      "Value": ""
    },
    {
      "Command": "executeScript_Sandbox",
      "Target": "return ${idx_row_trama} + 1;",
      "Value": "idx_row_trama"
    },
    {
      "Command": "storeText",
      "Target": "xpath=//*[@id=\"ProcessLogListTable\"]/tbody/tr[${idx_row_trama}]/td[2]",
      "Value": "row_trama_id"
    },
    {
      "Command": "executeScript_Sandbox",
      "Target": "var ids = [${!COL1}, ${!COL2}, ${!COL3}, ${!COL4}];\nreturn ids.indexOf(${row_trama_id}) > -1;\n\n",
      "Value": "row_is_downloadable"
    },
    {
      "Command": "if_v2",
      "Target": "${row_is_downloadable} == true",
      "Value": ""
    },
    {
      "Command": "storeText",
      "Target": "xpath=//*[@id=\"ProcessLogListTable\"]/tbody/tr[${idx_row_trama}]/td[7]",
      "Value": "row_trama_state"
    },
    {
      "Command": "storeText",
      "Target": "xpath=//*[@id=\"ProcessLogListTable\"]/tbody/tr[${idx_row_trama}]/td[6]",
      "Value": "row_trama_user"
    },
    {
      "Command": "if_v2",
      "Target": "${row_trama_state} == 'Completado' && ${row_trama_user} == 'CARLOS SHOGO CONTRERAS'",
      "Value": "row_trama_user"
    },
    {
      "Command": "click",
      "Target": "xpath=//*[@id=\"ProcessLogListTable\"]/tbody/tr[${idx_row_trama}]/td[8]/div/a",
      "Value": ""
    },
    {
      "Command": "click",
      "Target": "xpath=//tr[${idx_row_trama}]/td[8]/div/ul/li/a/span",
      "Value": ""
    },
    {
      "Command": "executeScript_Sandbox",
      "Target": "return ${download_count} + 1;",
      "Value": "download_count"
    },
    {
      "Command": "end",
      "Target": "",
      "Value": ""
    },
    {
      "Command": "end",
      "Target": "",
      "Value": ""
    },
    {
      "Command": "end",
      "Target": "",
      "Value": ""
    },
    {
      "Command": "run",
      "Target": "Shared/LogOut",
      "Value": ""
    }
  ]
}